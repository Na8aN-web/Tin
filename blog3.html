<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from ixtheme.netlify.app/optio/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 20 Nov 2021 19:13:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="description" content="CV Resume Portfolio Template">
    <meta name="keywords" content="CV, Resume, Portfolio, Personal, Creative, Html Template, Portfolio Template">
    <meta name="author" content="ixTheme">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Title -->
    <title>Tin Stimac - Full Stack Developer</title>
    <!-- Favicon -->
    <link href="img/favicon.png" type="image/png" rel="icon">

    <!-- All CSS -->
    <link href="css/plugins.css" rel="stylesheet" type="text/css">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <link href="css/responsive.css" rel="stylesheet" type="text/css">
</head>

<body id="body" data-spy="scroll" data-target="#menu-list">


	<!--  end page loader  -->

    <!-- begin of main-wrapper -->
    <div class="main-wrapper">
		<!-- begin of navbar -->
		<div class="nav-bar">
			<!-- begin of scroll-indicator -->
			<div class="scroll-indicator"></div>
			<nav>
				<ul id="menu-list">
					<li class="nav-item"><a class="active nav-link" href="./index.html#body" data-text="Home">
						<span>01</span>Home
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#about" data-text="About">
						<span>02</span>About
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#services" data-text="Services">
						<span>03</span>Services
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#skills" data-text="Skills">
						<span>04</span>Skills
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#education" data-text="Education">
						<span>05</span>Education
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#experience" data-text="Experience">
						<span>06</span>Experience
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#works" data-text="Projects">
						<span>07</span>Projects
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#clients" data-text="Clients">
						<span>08</span>Clients
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#blogs" data-text="Blogs">
						<span>09</span>Blogs
					</a></li>
					<li class="nav-item"><a class="nav-link" href="./index.html#contact" data-text="Contact">
						<span>10</span>Contact
					</a></li>
				</ul>
			</nav>
			<div class="nav-footer">
				<p class="nav-copyright">Tin Stimac</p>
			</div>
		</div>
		<!-- end of navbar -->
		<!-- begin of main-content -->
		<div class="main-content">
			<!-- begin of header -->

			<div class="blog-container">
				<div class="row">

					<!--Blog Heading Start-->
					<div class="blog-heading col-md-8 offset-md-1" style="padding: 20px;">
						
						<h1>Why Promise.all() is not always a suitable solution. âš¡ðŸ’¡</h1>
						<span class="blog-date"> April 15, 2020</span>
					</div>
					<!--Blog Heading Start-->

					<!--Blog Content Start-->
					<div class="blog-content col-md-10 offset-md-1">
						<p>If youâ€™re a frontend developer engaged in building highly interactive user interfaces, youâ€™ve most likely got React in your toolkit. While working on your React-powered creations, you should be careful to do things in tune with the React best practices. This will help to keep your code better organized.</p>
                                
					</div>
					
				</header>
				<div class="caption-post" style="padding: 50px;">
					<h2 style="padding-bottom: 20px;">
						<a name="background" href="#background">
						</a>
						Background
					  </h2>
					  
					  <p>Here at Stillio, it's paramount that we take care of the code we write. We process thousands of images and people rely on us for making sure their screenshots get delivered.</p>
					  
					  <p>Recently, we found something that might be interesting about <code>Promise.all()</code>.</p>
					  
					  <h2 style="padding-bottom: 20px;">
						<a name="what-is-promiseall" href="#what-is-promiseall">
						</a>
						What is Promise.all?
					  </h2>
					  
					  <p>The .all method on the Promise object is a neat way to process a list of asynchronous actions in order and receive an Array of results. e.g.
					  </p>
					  
					  <div class="highlight js-code-highlight">
				   
						<a href="./img/blog/New folder/1.png"><img src="./img/blog/New folder/1.png"></a>
					  
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
						<p style="padding: 20px;">A handy feature of Promise.all is that it will give back the results in the order that the promise array was given, let's look at a more robust example:<br>
							<a href="./img/blog/New folder/2.png"><img src="./img/blog/New folder/2.png"></a>
					  
					  </div>
					  </div>
					  </div>
					  
					  
					  
				
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
					   
					  
					  </div>
					  </div>
					  
					  
					  
					  
					  <h2 style="padding-bottom: 20px;">
						<a name="description" href="#description">
						</a>
						Description
					  </h2>
					  
					  <p>Above we have a fake <code>urlArray</code> variable. Assume that this is actual urls that we want to fetch. Since fetching is an async event we simulate that with the function <code>asyncAction</code>.</p>
					  
					  <p>All <code>asyncAction</code> actually does is return a promise which resolves at a random interval between 0 and 5000ms. This is to simulate changes in network latency, not all requests respond in the exact same time.</p>
					  
					  <p>To create an Array of Promises, we map the <code>urlArray</code> and return a new Array with the Promises after calling <code>asyncAction</code>. These aren't resolved yet, so we use Promise.all() in <code>start()</code> to give us an Array of results and since the function just returns the number:<br>
					  </p>
					  
					  <div class="highlight js-code-highlight">
					  <pre class="highlight javascript" style="color: white;"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Results: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">results</span><span class="p">);</span> <span class="c1">// Results: [1, 2, 3, 4,  5, 6,  7, 8, 9, 10, 11, 12]</span>
					  </code></pre>
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
					  
					  </div>
					  </div>
					  </div>
					  
					  
					  
					  <p>The results demonstrate that even though each request took a considerable different amount of time to complete, the Promise.all() method made sure that the results were returned in the correct order, hooray there's reliability! Or is there...</p>
					  
					  <h2 style="padding-bottom: 20px;">
						<a name="where-promiseall-gets-interesting" href="#where-promiseall-gets-interesting">
						</a>
						Where Promise.all() gets interesting
					  </h2>
					  
					  <p>Let's look at the above example again, but this time we change some things up. In the fake request let's update the resolve function to this:<br>
					  </p>
					  
					  <div class="highlight js-code-highlight">
					<a href="./img/blog/New folder/3.png"><img src="./img/blog/New folder/3.png"></a>
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
					   
					  
					  </div>
					  </div>
					  </div>
					  
					  
					  
					  <p>We've added a date component to the result of the Promise. This is actually something that we required in our code base. We had to process multiple URLs in an Array asynchronously and give it a timestamp that was congruent to the order of the Array. Sounds like the perfect job for Promise.all().</p>
					  
					  <p>Let's run the code again with the timestamp component included, here's the result:<br>
					  </p>
					  
					  <div class="highlight js-code-highlight">
					  <a href="./img/blog/New folder/5.png"><img src="./img/blog/New folder/5.png"></a>
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
						
					  
					  </div>
					  </div>
					  </div>
					  
					  
					  
					  <p>As you can see, Item 10 was created ~1s before item 1 was created. Even though the method maintained the order of the Promise resolutions, there was this effect that timestamps were dependent on these random intervals.</p>
					  
					  <p>This makes sense if you think about it, because fundamentally the issue already arose in the loop - when generating the promises. The loop doesn't wait for the previous promise to arrive for the next one to be made - it's still just a Promise.</p>
					 
					  
					  
					  
					  <div class="highlight js-code-highlight">
						 
					  <h2 style="padding-bottom: 20px;">
						<a name="the-alternative-approach" href="#the-alternative-approach">
						</a>
						The alternative approach
					  </h2>
					  <div><a href="./img/blog/New folder/4.png"><img src="./img/blog/New folder/4.png"></a></div>
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
						
					  
					  </div>
					  </div>
					  </div>
					  
					  
					  
					  <p>The code above is very similar, except we've removed promise.all() and replaced it with a simple <code>for of</code> loop. On each iteration, we HAVE to wait for the previous result, because of <code>await</code>. The outcome is:<br>
					  </p>
					  
					  <div class="highlight js-code-highlight">
					 <a href="./img/blog/New folder/6.png"><img src="./img/blog/New folder/6.png"></a>
					  <div class="highlight__panel js-actions-panel">
					  <div class="highlight__panel-action js-fullscreen-code-action">
					   
					  </div>
					  </div>
					  </div>
					  
					  
					  
					  <p>The results are ordered and so is the time component. This was what was actually expected.</p>
					  <div>
					  <h2 style="padding-bottom: 20px;">
						<a name="conclusion" href="#conclusion">
						</a>
						Conclusion
					  </h2>
					  
					  <p>Promise.all() is a super handy tool but because of it's abstraction, it's easy to overlook something like a time component. Keep in mind, the first example ran much quicker than the second, since the timers didn't need to complete before the next result was fired.</p>
					  
					  <p>So in general, if there is an element of time. e.g. a <code>dateCreated</code> property on the results of a list of Promises or asynchronous actions, consider using a loop instead of Promise.all().</p>
					  
				</div>
			</div>
			</div>
		</div>
    <!-- end of main-wrapper -->

    <!-- All JS -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
    <script src="js/ajax-mail.js"></script>

</body>


<!-- Mirrored from ixtheme.netlify.app/optio/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 20 Nov 2021 19:14:28 GMT -->
</html>
